<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Promice</title>
</head>
<body>
  <script>
    let icecream = {
            flavours: ['🍓 strawberry','🥭 Mango','🍌Banana','🍒cherry','🍍Pineapple'],
            liquid: ['💧 water','🧊ice','🍀mint'],
            holder: ['🍧waffle-cone','🧁cup','🧁waffle-cup','🍡stick'],
            toppings: ['Sprinkles', '🍫chocolate', 'oreo', 'caramel']
        }
        let shop_open=true;
        // let shop_open=false;
        let order=(ms)=>{
            return new Promise((resolve,reject)=>{
                if(shop_open){
                  setTimeout(resolve,ms)
                }
                else{
                  reject(console.log('The shop is close'))
                }
            })
        }
        
        async function kitchen(){
          try{
            await order(2000);
            console.log(`You have selected the ${icecream.flavours[4]} flavour.`)

            await order(3000);
            console.log(`Ice-cream production has started...`)

            await order(3000);
            console.log(`Your ${icecream.flavours[4]} has been chooped.`)

            await order(3000);
            console.log(`Machine has started. .`)

            await order(3000);
            console.log(`Your icecream is added on ${icecream.holder[0]}.`)

            await order(3000);
            console.log(`Adding the ${icecream.toppings[1]}..`);

            await order(3000);
            console.log(`Enjoy your ${icecream.flavours[0]} ${icecream.holder[0]} icecream.`)
          }
          catch(error){
           console.log('Customer has left the shop')
        }
        finally{
          console.log('Day has ended')
        }
      }

      kitchen()
  </script>
</body>
</html>