<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Array</title>
</head>

<body>
    <script>
        function year_range(start,end){
            let result=[];
            let leapyear=[];
            for(let i=start;i<=end;i++){
                result.push(i);
            }
            result.forEach(val=>{
                if(test_year(val)){
                    leapyear.push(val)
                }
            })
            return leapyear;
        }

        function test_year(year){
            if((year%4==0 && !year%100==0) || (year%100==0 && year%400==0)){
                return year
            }
        }
        console.log(year_range(2012,2019))


        function shuffle(arr){
            let ctr=arr.length;
            let temp;
            while(ctr>0){
                let index=Math.floor(Math.random()*ctr);
                ctr--;
                temp=arr[ctr];
                arr[ctr]=arr[index];
                arr[index]=temp;
            }
            return arr;
        }
        console.log(shuffle([1,4,3,5,6]))

        let arr1=[1, [2], [3, [[4]]],[5,6]];
        let a=arr1.toString().split(',').map(Number);
        console.log(a);

        function intersection(arr1,arr2){
            let result=[];
            arr1.forEach(val=>{
                if(arr1.includes(val) && arr2.includes(val)){
                    result.push(val)
                }
            })
            return result;
        }
        console.log(intersection([1, 2, 3], [100, 2, 1, 10]))

             var library = [
                { author: 'Bill Gates', title: 'The Road Ahead', libraryID: 1254 },
                { author: 'Steve Jobs', title: 'Walter Isaacson', libraryID: 4264 },
                { author: 'Suzanne Collins', title: 'Mockingjay: The Final Book of The Hunger Games', libraryID: 3245 }
            ];
            function sorting(arr){
                return arr.sort((a,b)=>{
                    return a.title.toString().localeCompare(b.title)
                })
            }
        console.log(sorting(library))

        function num_range(a,b,n){
            let result=[];
            let start=a.charCodeAt();
            let end=b.charCodeAt();
            for(let i=start;i<=end;i+=2){
               let output=String.fromCharCode(i);
               result.push(output);
            }
            return result;
        }
        console.log(num_range('a','z',2))

        function merge(arr1,arr2){
            let result=[...arr1,...arr2];
            let obj={};
            let out=[];
            for(let i=0;i<result.length;i++){
              obj[result[i]]=0;
            }
            for(let j in obj){
                out.push(Number(j));
            }
            return out;
        }
        console.log(merge([1,2,3],[2,30,1]))

        function input_range(start,end){
            let result=[];
            for(let i=0;i<end;i++,start++){
                result.push(start)
            }
            return result
        }
        console.log(input_range(-6,4));

        function nthlargest(arr,n){
            arr=arr.sort((a,b)=>{
                  return b-a
            });
            return arr=arr[n-1];
        }
        console.log(nthlargest([ 43, 56, 23, 89, 88, 90, 99, 652], 4))

        function move(arr,old_index,new_index){
            if(old_index<0){
                old_index+=arr.length;
            }
            if(new_index<0){
                new_index+=arr.length;
            }
             arr.splice(new_index,0,arr.splice(old_index,1)[0])
             return arr
        }
        console.log(move([10, 20, 30, 40, 50],-1,-2))

        function unzip(arrayOfArrays){
        //    let arr1=[];
        //    let arr2=[];
        //    arr.forEach(val=>{
        //     if(arr1.length==0){
        //         arr1=val;
        //     }
        //     else{
        //         arr2=val;
        //     }
        //    })
        let flatternArray=arrayOfArrays.reduce((acc,curr)=>{
            return acc.concat(curr);
        },[])
        return flatternArray;
        }
        console.log(unzip([['a', 1, true], ['b', 2, false]]))

        function arrayCount(arr){
            let count=0;
            arr.forEach(val=>{
                if(Array.isArray(val)){
                    count++;
                }
            })
            return count;
        }
        console.log(arrayCount([2,8,[6,3,3],[4],5,[3,4,[5,4]]]))

        function factorChain(arr){
            for(i=0;i<arr.length;i++){
                if(arr[i+1] %arr[i]!=0){
                    return false;
                }
                return true;
            }
        }
        console.log(factorChain([2,4,8,16,32]))

        function thirdSmallest(arr,n){
           let a= arr.sort((a,b)=>{
                return a-b;
            })
            return a[n-1];
        }
        console.log(thirdSmallest([2,3,5,7,1],3))

        function isPrime(arr){
            for(let i=0;i<arr.length;i++){
                if(arr[i]==1 || arr[i]>2 && arr[i]%2==0){
                    return false;
                }
            }
            return true
        }
        console.log(isPrime([2,3,5,7]))

        const numbers=[15.5, 2.3, 1.1, 4.7];
        let new_arr=numbers.reduce((total,a)=>{
           return total += Math.round(a);
        },0)
        console.log(new_arr)

        //alternative code for sum in reduce
        const summeation=[34,56,78,90]
        let newArr1=summeation.reduce((a,b)=>{
            return a+b
        })
        console.log(newArr1)

        const isArray=[12, 6, 8, 21, 4, 17];
        let x=isArray.reduce((a,b)=>{
           return Math.max(a,b);
        })
        console.log(x)

        //Write a JavaScript program to find the sum of squares of a numerical vector.
        let y=isArray.reduce((total,a)=>{
            return total+=Math.pow(a,2);
        },0)

        console.log('summeation of numerical vector',y)

        function longest_common_starting_substring(arr){
            let substring='';
            let shortestString=arr.reduce((short,long)=>{
                return short.length<long.length?short:long;
            })
            for(let i=0;i<shortestString.length;i++){
                // arr.every(str=>{
                //     str[i]==shortestString[i]
                //         substring += shortestString[i];
                    
                // })
                if(arr.every(str=>str[i]==shortestString[i])){
                    substring+=shortestString[i]
                }
            }
            return substring
        }
        // console.log(longest_common_starting_substring(['go','google']))
        console.log(longest_common_starting_substring(['flour','flower','flight']))


        // Write a JavaScript program to remove all false values from an object or array.
        const obj = {
            a: null,
            b: false,
            c: true,
            d: 0,
            e: 1,
            f: '',
            g: 'a',
            h:[null, false, '', true, 1, 'a'],
            }

            function remove(obj){
                let newobj={};
                for(let data in obj){
                    if(obj.hasOwnProperty(data) && Array.isArray(obj[data])){
                        alert('Array')
                        let a=obj[data].filter(item=>item!=false && item!=null);
                        newobj[data]=a;
                    }
                    if(obj.hasOwnProperty(data) && obj[data] && !Array.isArray(obj[data])){
                         newobj[data]=obj[data];
                    }
                }
                return newobj;
            }
            console.log(remove(obj))

        //find a Electric bill by conditionally 1. your amount is 1000 and form 1 to 7 days no intrest after 7 to 15 500rs add and after that 10% intrest on each day add in bill payment
        function annulalIntrest(){
        let amount=1000;
        let rate=0.1;
        let bill=0;
        let date=window.prompt('Enter an date');
        date=Number(date);
        if(date>0 && date<=7){
            alert('No Bill Yet')
        }
        else if(date>7 && date<=15){
            bill+=amount+500;
        }
        else if(date>15){
            let pastdays=date-15;
            bill+= amount + (rate*pastdays);
        }
        return alert('The Bill is '+ bill);
    }
    annulalIntrest();


    let str_1='artyuoioryuews';
    function vowels(str){
        let v=['a','e','i','o','u'];
        let result=str.split('');
        let count=0;
        for(let i=0;i<result.length;i++){
            if(v.includes(result[i])) count++
        }
        console.log(count)
        return count;
    }
    vowels(str_1)

    let str_2='avfr kurewq opuy';
    function removeSpace(str){
        let result=str.split('');
        console.log(result)
        let newArr=result.filter(ele=>!ele.includes(' '))
        console.log(newArr);
        return newArr;
    }
    removeSpace(str_2)

    function reverse(arr){
        let a=arr.sort((a,b)=>{
            return b-a;
        });

        console.log(a)
    }
    reverse([1,2,3,4,5,6])

    //or
    console.log([1,2,3,4,5,6].reverse());

    //Print odd numbers
    function oddNumbers(){
        for(let i=0;i<=100;i++){
            if(i%2!=0){
                console.log('odd',i)
            }
        }
    }
    oddNumbers();
    
    //Print all the multiplication tables with numbers from 1 to 10
    function tables(){
        for(let i=1;i<=10;i++){
            multiplication(i);
        }
    }
    function multiplication(n){
        console.log('table of',n)
        for(let i=1;i<=10;i++){
            console.log(n*i);
        }
    }
    tables();

    //Calculate the sum of numbers from 1 to 10
    function sumfrom(){
        let sum=0
        for(let i=1;i<=10;i++){
            sum+=i;
        }
        console.log(sum)
        return sum;
    }

    sumfrom();

    // Calculate the sum of odd numbers greater than 10 and less than 30

    function calcOdd(){
        let sum=0;
        for(let i=11;i<30;i+=2){
            sum+=i;
        }
        return sum;
    }
    console.log(calcOdd());

    //Calculate the average of the numbers in an array of numbers

    function avgArr(arr){
        let sum=0;
        for(let i=0;i<arr.length;i++){
            sum+=+arr[i];
        }
        let avg=sum/arr.length;
        console.log(avg);
        return avg
    }
    avgArr([1,2,3,4,5,6])

    // Find the maximum number in an array of numbers

    function maxNumber(arr){
        let defaultValue=+arr[0];
        for(let i=0; i<arr.length;i++){
            if(+arr[i]>defaultValue){
                defaultValue=+arr[i]
            }
        }
        console.log(defaultValue);
        return defaultValue
    }
    maxNumber([2,4,6,1,2,10]);

    //Prime or not
    function isPrime(n){
        if(n==1 || n>2 || n%2!=0){
            return Boolean;
        }
    }
    console.log(isPrime(1))

    //: Rotate an array to the left 1 position

    function rotate(arr){
        let temp=arr[0];
        for(let i=0;i<arr.length;i++){
            if(i!=arr.length-1){arr[i]=arr[i+1];}
            else{
                arr[i]=temp;
            }
        }
        return arr;
    }
    console.log(rotate([1,2,3,4,5]));

    // reverse a string
    function reversestring(str){
        let a=str.split('');
        let result=[];
        for(let i=a.length-1;i>=0;i--){
            result.push(a[i]);
        }
        return result.join('');
    }
    console.log(reversestring('Javascript'));

    //merging of two array
    let arr_1=[1,2,3,4,5];
    let arr_2=[7,8,9,4,6];
    let result=[...arr_1,...arr_2];
    console.log(result);

    //Create a function that will receive an array of numbers as argument and will return a new array with distinct elements

    function distinct(arr){
        let result=[];
        arr.forEach(ele=>{
            if(!result.includes(ele)){
                result.push(ele);
            }
        })
        console.log(result);
        return result;
    }
    distinct([7,8,7,5,6,8,4,9,4]);

    function cocequetive(){
        let arr=[];
        for(let i=0;i<=100;i++){
            if(i==1){
                arr.push(i);
            }
            if(i>2 && i%2!=0){
                arr.push(i);
            }
        }
        console.log(arr);

        let difference=[];
        for(let i=0;i<arr.length;i++){
            if(arr[i+1]==undefined)return difference;
            difference.push(arr[i+1]-arr[i])
        }
        console.log(difference)
    }
    cocequetive();

    let n1 = "2909034221912398942349";
    let n2 = "1290923909029309499";

    function addString(){
        let a1=n1.split('');
        let a2=n2.split('');
        let result=[];
        for(let i=0;i<a1.length;i++){
            if(a2[i]==undefined){
                a2[i]=0;
            }
            result.push(Number(a1[i])+Number(a2[i]))
        }
        console.log(result.join(''));
        return result.join('');
    }
    addString();

    let big_str='the quick brown fox jumps over the lazy dog'
    function capitalize(str){
        let result=str.split(' ');
        console.log(result);
        for(let i=0;i<result.length;i++){
            result[i]=result[i][0].toUpperCase() + result[i].substring(1);
        }
        console.log(result.join(' '))
        return result.join(' ');
    }
    capitalize(big_str);

    let comma_delimited='1.5, 2.3, 3.1, 4, 5.5, 6, 7, 8, 9, 10.9'
    function comma_delimited_1(str){
        let result=str.split(',');
        let sum=0;
        result.forEach(ele=>{
            sum+=Number(ele);
        })
        console.log(sum);
        return sum;
    }
    comma_delimited_1(comma_delimited)

    //Create a function that will receive a bi-dimensional array as argument and a number and will extract as a unidimensional array the column specified by the number.
    let ar = [ ["John", 120],
            ["Jane", 115],
            ["Thomas", 123],
            ["Mel", 112],
            ["Charley", 122]
        ];
    
        function extractColumn(arr,n){
            let resultArray=[];
            arr.forEach(ele=>{
                resultArray.push(ele[n]);
            })
            console.log(resultArray);
            return resultArray
        }
        extractColumn(ar,1)

        let binarynum='1101';
        let number=parseInt(binarynum,2);
        console.log('convert',number);

        //find sum in jagged array;
        let ar1= [1, 2, [15, [23], [5, 12]], [100]];
        function flattern(arr){
            let sum=0;
           let resultarr= arr.reduce((result,current)=>{
                if(Array.isArray(current)){
                    return result.concat(flattern(current))
                }else{
                    return  result.concat(current);
                }
            },[]);
            resultarr.forEach(ele=>{
                sum+=ele;
            })
            return sum
        }
        console.log(flattern(ar1));

        // find max in jagged
        function maxJag(arr){
            let max;
            let newArr= arr.reduce((result,current)=>{
                if(Array.isArray(current)){
                    return result.concat(flattern(current))
                }
                else{
                    return result.concat(current)
                }
            },[]);
            max=newArr[0];
            newArr.forEach(ele=>{
                if(ele>max){
                    max=ele;
                }
            })
            console.log(max)
            return max;
        }
        maxJag([1, 2, [15, [23], [5, 12]], [100]])

        //shuffle a string
        let strArr = ["Shuffle", "an", "array", "of", "strings"];
        function shuffle(arr){
            let temp;
            let ctr=arr.length;
            while(ctr>0){
                let randomIndex=Math.floor(Math.random() * ctr);
                ctr--;
                temp=arr[ctr];
                arr[ctr]=arr[randomIndex];
                arr[randomIndex]=temp;
            }
            console.log(arr)
            return arr;
        }
        shuffle(strArr);

        // Create a function that will receive n as argument and return an array of n unique random numbers from 1 to n.
        function randomArray(start,end){
            let resultArray=[];
            for(let i=start;i<=end;i++){
                let randomNumber=Math.floor(Math.random()* (end-start) + start)
                resultArray.push(randomNumber);
            }
            console.log(resultArray);
            return resultArray;
        }
        randomArray(1,10);

        // Find the frequency of characters inside a string. Return the result as an array of objects. Each object has 2 fields: character and number of occurrences.
        let occurenceString='javascript';
        // let occurenceString='Dattatray'
        function occurence(str){
            let arr=str.split('');
            let count=1;
            let resultarr=[];
            let out=[];
            for(let i=0;i<arr.length;i++){
                count=1;
                for(let j=i;j<arr.length;j++){
                    if(arr[j+1]==undefined){
                        break;
                    }
                    if(arr[i].toString()===arr[j+1].toString()){
                        count++;
                    }
                }
                let existingitem=resultarr.find(ele=>ele.charcter==arr[i]);
                if(!existingitem){
                    resultarr.push({'charcter':arr[i],'occurence':count});
                }
            }
            console.log(resultarr);
            return resultarr;
        }

        occurence(occurenceString);
        
    </script>

</body>